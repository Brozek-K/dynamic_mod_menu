namespace = dynamic_mod_menu_pagination

@max_mods = 100
@items_per_page = 20

country_event = {
    id = dynamic_mod_menu_pagination.1
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        country_event = {
            id = dynamic_mod_menu_pagination.3
        }
        if = {
            limit = {
                check_variable = {
                    which = dynamic_mod_menu_items_processed
                    value > @max_mods
                }
            }
            set_variable = {
                which = dynamic_mod_menu_items_processed
                value = 0
            }
        }
        while = {
            limit = {
                check_variable = {
                    which = dynamic_mod_menu_items_shown
                    value < @items_per_page
                }
                check_variable = {
                    which = dynamic_mod_menu_items_processed
                    value < @max_mods
                }
            }

            change_variable = {
                which = dynamic_mod_menu_items_processed
                value = 1
            }

            ### BEGIN TEMPLATE ###
            ### END TEMPLATE ###
        }
    }
}

country_event = {
    id = dynamic_mod_menu_pagination.2
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        country_event = {
            id = dynamic_mod_menu_pagination.3
        }
        if = {
            limit = {
                check_variable = {
                    which = dynamic_mod_menu_items_processed
                    value < 0
                }
            }
            set_variable = {
                which = dynamic_mod_menu_items_processed
                value = @max_mods
            }
        }
        while = {
            limit = {
                check_variable = {
                    which = dynamic_mod_menu_items_shown
                    value < @items_per_page
                }
                check_variable = {
                    which = dynamic_mod_menu_items_processed
                    value > 0
                }
            }

            subtract_variable = {
                which = dynamic_mod_menu_items_processed
                value = 1
            }

            ### BEGIN TEMPLATE ###
            ### END TEMPLATE ###
        }
    }
}

country_event = {
    id = dynamic_mod_menu_pagination.3
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        ### BEGIN TEMPLATE ###
        ### END TEMPLATE ###
    }
}