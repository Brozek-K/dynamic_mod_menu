namespace = dynamic_mod_menu

country_event = {
    id = dynamic_mod_menu.1
    title = "dmm_options.1.title"
    desc = "dmm_options.1.desc"
    is_triggered_only = yes
    diplomatic = yes
    custom_gui = "dynamic_mod_menu_ui"

    trigger = {
        NOT = {
            has_global_flag = dynamic_mod_menu_opened
        }
    }

    immediate = {
        hidden_effect = {
            set_global_flag = dynamic_mod_menu_opened
            set_variable = {
                which = dynamic_mod_menu_items_shown
                value = 0
            }
            set_variable = {
                which = dynamic_mod_menu_items_processed
                value = 0
            }
        }
    }

    option = {
        name = "dmm_options.1.close"

        hidden_effect = {
            remove_global_flag = dynamic_mod_menu_opened
        }
    }
}

country_event = {
    id = dynamic_mod_menu.2
    is_triggered_only = yes
    hide_window = yes

    immediate = {
        set_global_flag = dmm_mod_id_1
        set_global_flag = dmm_mod_id_4
        set_global_flag = dmm_mod_id_7
        set_global_flag = dmm_mod_id_10
        set_global_flag = dmm_mod_id_13
        set_global_flag = dmm_mod_id_16
        set_global_flag = dmm_mod_id_19
        set_global_flag = dmm_mod_id_22
        set_global_flag = dmm_mod_id_25
        set_global_flag = dmm_mod_id_28
        set_global_flag = dmm_mod_id_31
        set_global_flag = dmm_mod_id_34
        set_global_flag = dmm_mod_id_37
        set_global_flag = dmm_mod_id_40
        set_global_flag = dmm_mod_id_43
        set_global_flag = dmm_mod_id_46
        set_global_flag = dmm_mod_id_49
        set_global_flag = dmm_mod_id_52
        set_global_flag = dmm_mod_id_55
        set_global_flag = dmm_mod_id_58
        set_global_flag = dmm_mod_id_61
        set_global_flag = dmm_mod_id_64
        set_global_flag = dmm_mod_id_67
        set_global_flag = dmm_mod_id_70
        set_global_flag = dmm_mod_id_73
        set_global_flag = dmm_mod_id_76
        set_global_flag = dmm_mod_id_79
        set_global_flag = dmm_mod_id_82
        set_global_flag = dmm_mod_id_85
        set_global_flag = dmm_mod_id_88
        set_global_flag = dmm_mod_id_91
        set_global_flag = dmm_mod_id_94
        set_global_flag = dmm_mod_id_97
        set_global_flag = dmm_mod_id_100
    }
}